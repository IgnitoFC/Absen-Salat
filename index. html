<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Absen Salat Digital</title>
<style>
    body{
        font-family: Arial, sans-serif;
        padding:20px;
        background:#f8f8f8;
    }
    .card{
        background:white;
        padding:20px;
        border-radius:10px;
        max-width:400px;
        margin:auto;
        box-shadow:0 0 10px rgba(0,0,0,0.1);
    }
    h2{text-align:center;}
    label{font-weight:bold;}
    button{
        width:100%;
        padding:12px;
        border:none;
        background:#007bff;
        color:white;
        border-radius:8px;
        font-size:16px;
        margin-top:10px;
        cursor:pointer;
    }
    button.reset{
        background:#dc3545;
        margin-top:5px;
    }
    .saved{
        margin-top:10px;
        color:green;
        font-weight:bold;
        text-align:center;
    }
</style>
</head>
<body>

<div class="card">
    <h2>Absen Salat Harian</h2>

    <label>Tanggal:</label>
    <input type="date" id="tanggal" style="width:100%; padding:10px; margin-bottom:15px;">

    <label>Nama:</label>
    <input type="text" id="nama" placeholder="Masukkan nama" style="width:100%; padding:10px; margin-bottom:15px;">

    <label>Checklist Salat:</label>
    <br><br>
    <input type="checkbox" id="subuh"> Subuh <br>
    <input type="checkbox" id="zuhur"> Zuhur <br>
    <input type="checkbox" id="asar"> Asar <br>
    <input type="checkbox" id="maghrib"> Maghrib <br>
    <input type="checkbox" id="isya"> Isya <br>

    <button onclick="simpanAbsen()">Simpan</button>
    <button class="reset" onclick="resetAbsen()">Reset Hari Ini</button>

    <div class="saved" id="savedMessage"></div>
</div>

<script>
    // Tanggal otomatis hari ini
    document.getElementById("tanggal").value = new Date().toISOString().substr(0,10);

    // Simpan ke localStorage
    function simpanAbsen(){
        const data = {
            tanggal: document.getElementById("tanggal").value,
            nama: document.getElementById("nama").value,
            subuh: document.getElementById("subuh").checked,
            zuhur: document.getElementById("zuhur").checked,
            asar: document.getElementById("asar").checked,
            maghrib: document.getElementById("maghrib").checked,
            isya: document.getElementById("isya").checked
        };

        if(data.nama === ""){
            alert("Nama wajib diisi!");
            return;
        }

        localStorage.setItem("absenSalat", JSON.stringify(data));
        document.getElementById("savedMessage").innerText = "Absen tersimpan!";
    }

    // Reset absen
    function resetAbsen(){
        localStorage.removeItem("absenSalat");
        location.reload();
    }

    // Load data jika ada
    window.onload = function(){
        const saved = JSON.parse(localStorage.getItem("absenSalat"));
        if(saved){
            document.getElementById("tanggal").value = saved.tanggal;
            document.getElementById("nama").value = saved.nama;
            document.getElementById("subuh").checked = saved.subuh;
            document.getElementById("zuhur").checked = saved.zuhur;
            document.getElementById("asar").checked = saved.asar;
            document.getElementById("maghrib").checked = saved.maghrib;
            document.getElementById("isya").checked = saved.isya;
        }
    };
</script>

</body>
</html>
